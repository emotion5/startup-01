# WorkHub Collaboration Tool Architecture Plan

## Overview
WorkHubëŠ” GitHub ë¸Œëœì¹˜ ê°œë…ì„ ìŠ¤íƒ€íŠ¸ì—… ìš´ì˜ì— ì ìš©í•œ ë²”ìš© ì—…ë¬´ ê´€ë¦¬ í˜‘ì—… ë„êµ¬ì…ë‹ˆë‹¤.
**í•µì‹¬ ì„¤ê³„ ì›ì¹™**: í–¥í›„ ì™„ì „íˆ ë…ë¦½ëœ í”„ë¡œì íŠ¸ë¡œ ë¶„ë¦¬ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ê³„í•˜ë©°, í˜„ì¬ í”„ë¡œì íŠ¸ì˜ ê³µê°œ ë°ì´í„°ë§Œ ì½ì–´ì˜¤ëŠ” êµ¬ì¡°ë¡œ êµ¬í˜„í•©ë‹ˆë‹¤.

## 1. Core Concept: Branch-Based Work Management

### 1.1 Hierarchy Structure
```
Company (Root/Master)
â””â”€â”€ Department/Project Branches
    â””â”€â”€ Team Branches
        â””â”€â”€ Individual Task Branches
```

### 1.2 Git-Inspired Workflow
- **Branch**: ì—…ë¬´ ë‹¨ìœ„ (í”„ë¡œì íŠ¸, íŒ€, ê°œì¸ ì‘ì—…)
- **Commit**: ì‘ì—… ì™„ë£Œ ê¸°ë¡ (ê³µì‹œëœ ì—…ë¬´ ë‚´ì—­)
- **Merge**: ìƒìœ„ ë¸Œëœì¹˜ë¡œì˜ ìŠ¹ì¸ ë° ë°˜ì˜
- **Pull Request**: ì‘ì—… ê²€í†  ìš”ì²­ (íŒ€ì¥ ì»¨íŒ ëŒ€ê¸°)

## 2. Folder Structure Design - ë…ë¦½ í”„ë¡œì íŠ¸ ëŒ€ë¹„ êµ¬ì¡°

### 2.1 ì™„ì „ ë…ë¦½í˜• ëª¨ë“ˆ êµ¬ì¡° (í–¥í›„ ë³„ë„ ë ˆí¬ì§€í† ë¦¬ë¡œ ë¶„ë¦¬ ê°€ëŠ¥)
```
src/
â”œâ”€â”€ modules/
â”‚   â””â”€â”€ workhub/                           # í˜‘ì—…íˆ´ ë…ë¦½ ëª¨ë“ˆ (ì™„ì „ ê²©ë¦¬)
â”‚       â”‚
â”‚       â”œâ”€â”€ adapter/                       # ì™¸ë¶€ ë°ì´í„° ì–´ëŒ‘í„° (ìœ ì¼í•œ ì—°ê²°ì )
â”‚       â”‚   â”œâ”€â”€ projectAdapter.ts          # ì™¸ë¶€ í”„ë¡œì íŠ¸ ë°ì´í„° ì½ê¸° ì „ìš©
â”‚       â”‚   â””â”€â”€ types.ts                   # ì™¸ë¶€ ì¸í„°í˜ì´ìŠ¤ ì •ì˜
â”‚       â”‚
â”‚       â”œâ”€â”€ pages/                         # WorkHub í˜ì´ì§€ë“¤
â”‚       â”‚   â”œâ”€â”€ WorkHubMain.tsx            # ë©”ì¸ ëŒ€ì‹œë³´ë“œ (ë¸Œëœì¹˜ í™”ì´íŠ¸ë³´ë“œ)
â”‚       â”‚   â”œâ”€â”€ BranchView.tsx             # ë¸Œëœì¹˜ ìƒì„¸ ë·°
â”‚       â”‚   â””â”€â”€ CommitHistory.tsx          # ì»¤ë°‹ íˆìŠ¤í† ë¦¬ (ê³µì‹œ ë‚´ì—­)
â”‚       â”‚
â”‚       â”œâ”€â”€ components/                    # WorkHub ì „ìš© ì»´í¬ë„ŒíŠ¸
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ Whiteboard/                # 2D í™”ì´íŠ¸ë³´ë“œ (ë©”ì¸ UI)
â”‚       â”‚   â”‚   â”œâ”€â”€ WhiteboardCanvas.tsx   # ìº”ë²„ìŠ¤ ì»¨í…Œì´ë„ˆ
â”‚       â”‚   â”‚   â”œâ”€â”€ BranchNode.tsx         # ë¸Œëœì¹˜ ë…¸ë“œ (ë“œë˜ê·¸ ê°€ëŠ¥)
â”‚       â”‚   â”‚   â”œâ”€â”€ BranchLine.tsx         # ë¸Œëœì¹˜ ì—°ê²°ì„  (SVG)
â”‚       â”‚   â”‚   â””â”€â”€ ZoomControls.tsx       # ì¤Œ/íŒ¬ ì»¨íŠ¸ë¡¤
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ Commit/                    # ì»¤ë°‹ ê´€ë ¨ (ì‹¬í”Œ ì„¤ê³„)
â”‚       â”‚   â”‚   â”œâ”€â”€ CommitInput.tsx        # ì»¤ë°‹ ì…ë ¥ì°½ (í…ìŠ¤íŠ¸ ì¤‘ì‹¬)
â”‚       â”‚   â”‚   â”œâ”€â”€ CommitCard.tsx         # ì»¤ë°‹ ì¹´ë“œ (ë¦¬ìŠ¤íŠ¸ ì•„ì´í…œ)
â”‚       â”‚   â”‚   â””â”€â”€ CommitList.tsx         # ì»¤ë°‹ ë¦¬ìŠ¤íŠ¸
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ Merge/                     # ë¨¸ì§€ ê´€ë ¨
â”‚       â”‚   â”‚   â”œâ”€â”€ MergeButton.tsx        # ë¨¸ì§€ ìš”ì²­ ë²„íŠ¼
â”‚       â”‚   â”‚   â”œâ”€â”€ MergePanel.tsx         # ë¨¸ì§€ ìƒì„¸ íŒ¨ë„
â”‚       â”‚   â”‚   â””â”€â”€ ApprovalBadge.tsx      # ìŠ¹ì¸ ìƒíƒœ ë±ƒì§€
â”‚       â”‚   â”‚
â”‚       â”‚   â””â”€â”€ Common/                    # ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚       â”‚       â”œâ”€â”€ MemberTag.tsx          # ë©¤ë²„ íƒœê·¸
â”‚       â”‚       â”œâ”€â”€ StatusBadge.tsx        # ìƒíƒœ ë±ƒì§€
â”‚       â”‚       â””â”€â”€ SimpleButton.tsx       # ì‹¬í”Œ ë²„íŠ¼
â”‚       â”‚
â”‚       â”œâ”€â”€ hooks/                         # WorkHub ì „ìš© hooks
â”‚       â”‚   â”œâ”€â”€ useBranch.ts               # ë¸Œëœì¹˜ CRUD
â”‚       â”‚   â”œâ”€â”€ useCommit.ts               # ì»¤ë°‹ CRUD
â”‚       â”‚   â”œâ”€â”€ useMerge.ts                # ë¨¸ì§€ ë¡œì§
â”‚       â”‚   â””â”€â”€ useWhiteboard.ts           # í™”ì´íŠ¸ë³´ë“œ ì¤Œ/íŒ¬ ë¡œì§
â”‚       â”‚
â”‚       â”œâ”€â”€ store/                         # WorkHub ë…ë¦½ ìƒíƒœ (Zustand)
â”‚       â”‚   â”œâ”€â”€ branchStore.ts             # ë¸Œëœì¹˜ ìƒíƒœ
â”‚       â”‚   â”œâ”€â”€ commitStore.ts             # ì»¤ë°‹ ìƒíƒœ
â”‚       â”‚   â””â”€â”€ mergeStore.ts              # ë¨¸ì§€ ìƒíƒœ
â”‚       â”‚
â”‚       â”œâ”€â”€ types/                         # WorkHub íƒ€ì… ì •ì˜
â”‚       â”‚   â”œâ”€â”€ branch.types.ts
â”‚       â”‚   â”œâ”€â”€ commit.types.ts
â”‚       â”‚   â”œâ”€â”€ merge.types.ts
â”‚       â”‚   â””â”€â”€ member.types.ts
â”‚       â”‚
â”‚       â”œâ”€â”€ utils/                         # WorkHub ìœ í‹¸ë¦¬í‹°
â”‚       â”‚   â”œâ”€â”€ branchUtils.ts             # ë¸Œëœì¹˜ ê³„ì‚°
â”‚       â”‚   â”œâ”€â”€ mergeUtils.ts              # ë¨¸ì§€ ì•Œê³ ë¦¬ì¦˜
â”‚       â”‚   â””â”€â”€ graphUtils.ts              # ê·¸ë˜í”„ ë ˆì´ì•„ì›ƒ ê³„ì‚°
â”‚       â”‚
â”‚       â”œâ”€â”€ styles/                        # WorkHub ì „ìš© ìŠ¤íƒ€ì¼
â”‚       â”‚   â”œâ”€â”€ workhub.module.css
â”‚       â”‚   â”œâ”€â”€ whiteboard.module.css
â”‚       â”‚   â””â”€â”€ commit.module.css
â”‚       â”‚
â”‚       â””â”€â”€ index.ts                       # ì™¸ë¶€ ë…¸ì¶œ ì—”íŠ¸ë¦¬í¬ì¸íŠ¸
â”‚
â”œâ”€â”€ components/                            # ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ (ìµœì†Œ ìˆ˜ì •)
â”‚   â””â”€â”€ ui/
â”‚       â””â”€â”€ Overlay/
â”‚           â””â”€â”€ InfoModal.tsx              # [ìˆ˜ì •] WorkHub ë²„íŠ¼ ì¶”ê°€
â”‚
â””â”€â”€ App.tsx                                # [ìˆ˜ì •] WorkHub ë¼ìš°íŠ¸ ì¶”ê°€
```

### 2.2 ë°ì´í„° ê²©ë¦¬ ì „ëµ: Adapter Pattern

**í•µì‹¬ ì›ì¹™**: WorkHubëŠ” ì™¸ë¶€ ë°ì´í„°ë¥¼ ì§ì ‘ importí•˜ì§€ ì•Šê³ , Adapterë¥¼ í†µí•´ì„œë§Œ ì ‘ê·¼

```typescript
// modules/workhub/adapter/projectAdapter.ts
// ì´ íŒŒì¼ì´ ìœ ì¼í•œ ì™¸ë¶€ ì˜ì¡´ì„± ì§€ì 

import { Project as ExternalProject } from '../../../data/mockData'; // ì™¸ë¶€ ì˜ì¡´

// WorkHub ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•  ì¸í„°í˜ì´ìŠ¤ (ë…ë¦½ì )
export interface WorkHubProject {
    id: string;
    name: string;
    description: string;
    visibility: 'public' | 'private';
    status: string;
}

// ì™¸ë¶€ ë°ì´í„°ë¥¼ WorkHub í˜•ì‹ìœ¼ë¡œ ë³€í™˜
export class ProjectAdapter {
    static toWorkHubProject(external: ExternalProject): WorkHubProject | null {
        // visibilityê°€ 'public'ì¸ ê²ƒë§Œ ê°€ì ¸ì˜´
        if (external.visibility !== 'public') {
            return null;
        }

        return {
            id: external.id,
            name: external.title,
            description: external.description,
            visibility: external.visibility,
            status: external.status,
        };
    }

    static async fetchPublicProjects(): Promise<WorkHubProject[]> {
        // í˜„ì¬: mockDataì—ì„œ ê°€ì ¸ì˜´
        // í–¥í›„: API í˜¸ì¶œë¡œ ë³€ê²½ ê°€ëŠ¥
        const { projects } = await import('../../../data/mockData');
        return projects
            .filter(p => p.visibility === 'public')
            .map(p => ProjectAdapter.toWorkHubProject(p))
            .filter((p): p is WorkHubProject => p !== null);
    }
}
```

### 2.3 ê¸°ì¡´ ì½”ë“œì™€ì˜ í†µí•©ì  (ì™„ì „ ìµœì†Œí™”)

**ìˆ˜ì • í•„ìš” íŒŒì¼ (ë‹¨ 2ê°œ):**
1. **App.tsx** - WorkHub ë¼ìš°íŠ¸ ì¶”ê°€ë§Œ (3ì¤„)
2. **InfoModal.tsx** - "í”„ë¡œì íŠ¸ ë‚´ìš©ë³´ê¸°" ë²„íŠ¼ ì¶”ê°€ë§Œ (5ì¤„)

**WorkHub ê´€ë ¨ ëª¨ë“  ë°ì´í„°ëŠ” `modules/workhub/` ë‚´ë¶€ì—ì„œë§Œ ê´€ë¦¬**
- ê¸°ì¡´ `mockData.ts` ìˆ˜ì • ì—†ìŒ
- ê¸°ì¡´ `useStore.ts` ìˆ˜ì • ì—†ìŒ
- ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ ìˆ˜ì • ì—†ìŒ

## 3. Data Model Design

### 3.1 í•µì‹¬ ë°ì´í„° íƒ€ì…
```typescript
// modules/workhub/types/branch.types.ts
export interface Branch {
    id: string;
    name: string;
    type: 'company' | 'department' | 'project' | 'team' | 'personal';
    parentBranchId: string | null;  // null = root branch (company)
    projectId?: string;              // ê¸°ì¡´ Projectì™€ ì—°ê²° (ì„ íƒì )
    ownerId: string;                 // ì±…ì„ì ID
    members: string[];               // ë©¤ë²„ ID ë°°ì—´
    status: 'active' | 'merged' | 'archived';
    createdAt: string;
    mergedAt?: string;
    mergedTo?: string;               // ë¨¸ì§€ëœ ë¶€ëª¨ ë¸Œëœì¹˜ ID
}

// modules/workhub/types/commit.types.ts
export interface Commit {
    id: string;
    branchId: string;
    authorId: string;
    title: string;
    description: string;
    changes: CommitChange[];         // ë³€ê²½ ì‚¬í•­ ëª©ë¡
    status: 'draft' | 'published' | 'approved' | 'merged';
    createdAt: string;
    approvedBy?: string;
    approvedAt?: string;
}

export interface CommitChange {
    type: 'task_completed' | 'milestone_reached' | 'document_updated' | 'metric_changed';
    before: any;
    after: any;
    metadata: Record<string, any>;
}

// modules/workhub/types/merge.types.ts
export interface MergeRequest {
    id: string;
    sourceBranchId: string;
    targetBranchId: string;
    commits: string[];               // ì»¤ë°‹ ID ë°°ì—´
    requesterId: string;
    status: 'pending' | 'approved' | 'rejected' | 'merged';
    reviewers: string[];
    createdAt: string;
    resolvedAt?: string;
    conflicts?: Conflict[];
}

export interface Conflict {
    type: string;
    description: string;
    resolved: boolean;
}
```

### 3.2 ê¸°ì¡´ ë°ì´í„° ëª¨ë¸ê³¼ì˜ ê´€ê³„
```typescript
// ê¸°ì¡´ Projectì™€ì˜ ì—°ê²° (ì•½í•œ ê²°í•©)
interface Project {
    // ... ê¸°ì¡´ í•„ë“œë“¤
    workHubBranchId?: string;  // ì„ íƒì  ì—°ê²°
}

// WorkHubëŠ” projectId ì°¸ì¡°ë§Œ ì‚¬ìš© (ì§ì ‘ ì˜ì¡´ ì—†ìŒ)
```

## 4. State Management Strategy

### 4.1 ë³„ë„ Zustand ìŠ¤í† ì–´ ìƒì„±
```typescript
// modules/workhub/store/branchStore.ts
interface BranchState {
    branches: Branch[];
    currentBranch: Branch | null;
    branchTree: BranchTreeNode[];

    loadBranches: () => Promise<void>;
    createBranch: (branch: Omit<Branch, 'id'>) => Promise<void>;
    switchBranch: (branchId: string) => void;
    getBranchPath: (branchId: string) => Branch[];
}

// modules/workhub/store/commitStore.ts
interface CommitState {
    commits: Record<string, Commit[]>;  // branchId -> commits
    currentCommit: Commit | null;

    createCommit: (commit: Omit<Commit, 'id'>) => Promise<void>;
    updateCommit: (id: string, updates: Partial<Commit>) => Promise<void>;
    approveCommit: (id: string, approverId: string) => Promise<void>;
}

// modules/workhub/store/mergeStore.ts
interface MergeState {
    mergeRequests: MergeRequest[];
    activeMerge: MergeRequest | null;

    createMergeRequest: (request: Omit<MergeRequest, 'id'>) => Promise<void>;
    approveMerge: (id: string, reviewerId: string) => Promise<void>;
    executeMerge: (id: string) => Promise<void>;
    detectConflicts: (sourceBranchId: string, targetBranchId: string) => Conflict[];
}
```

### 4.2 ê¸°ì¡´ ìŠ¤í† ì–´ì™€ì˜ ë¶„ë¦¬
- ê¸°ì¡´ `useStore.ts`ëŠ” ìˆ˜ì •í•˜ì§€ ì•ŠìŒ
- WorkHub ì „ìš© ìŠ¤í† ì–´ëŠ” `modules/workhub/store/` ì— ë…ë¦½ì ìœ¼ë¡œ ê´€ë¦¬
- í•„ìš”ì‹œ ê¸°ì¡´ Project ë°ì´í„°ëŠ” propsë¥¼ í†µí•´ ì „ë‹¬

## 5. Routing Strategy

### 5.1 ë¼ìš°íŠ¸ ì„¤ê³„
```typescript
// App.tsx ìˆ˜ì • ë‚´ìš©
<Routes>
    {/* ê¸°ì¡´ ë¼ìš°íŠ¸ */}
    <Route path="/" element={<DashboardPage />} />
    <Route path="/exhibition/:id" element={<ExhibitionPage />} />

    {/* WorkHub ë¼ìš°íŠ¸ (ë…ë¦½ì ) */}
    <Route path="/workhub" element={<WorkHubMain />} />
    <Route path="/workhub/branch/:branchId" element={<BranchView />} />
    <Route path="/workhub/commits/:branchId" element={<CommitHistory />} />
    <Route path="/workhub/merge/:mergeId" element={<MergeRequest />} />

    {/* í”„ë¡œì íŠ¸ ì—°ê²° ë¼ìš°íŠ¸ */}
    <Route path="/project/:projectId/workhub" element={<WorkHubMain />} />
</Routes>
```

### 5.2 ë„¤ë¹„ê²Œì´ì…˜ íë¦„
```
InfoModal (í”„ë¡œì íŠ¸ ë‚´ìš©ë³´ê¸° ë²„íŠ¼)
    â†“
/project/:projectId/workhub
    â†“
WorkHubMain (í•´ë‹¹ í”„ë¡œì íŠ¸ì˜ ë¸Œëœì¹˜ í‘œì‹œ)
```

## 6. Component Architecture

### 6.1 í˜ì´ì§€ ë ˆë²¨ ì»´í¬ë„ŒíŠ¸

**WorkHubMain.tsx**
- ë¸Œëœì¹˜ íŠ¸ë¦¬ ì‹œê°í™” (Git ê·¸ë˜í”„ ìŠ¤íƒ€ì¼)
- ìµœê·¼ ì»¤ë°‹ í”¼ë“œ
- í™œì„± ë¨¸ì§€ ìš”ì²­ ëª©ë¡
- ë¸Œëœì¹˜ ìƒì„±/ì „í™˜ UI

**BranchView.tsx**
- ì„ íƒëœ ë¸Œëœì¹˜ì˜ ìƒì„¸ ì •ë³´
- ë¸Œëœì¹˜ ë‚´ ì»¤ë°‹ ë¦¬ìŠ¤íŠ¸
- íŒ€ ë©¤ë²„ í˜„í™©
- ìƒˆ ì»¤ë°‹ ì‘ì„± ë²„íŠ¼

**CommitHistory.tsx**
- ì»¤ë°‹ íƒ€ì„ë¼ì¸ ë·°
- ì»¤ë°‹ í•„í„°ë§/ê²€ìƒ‰
- ì»¤ë°‹ ìƒì„¸ ë³´ê¸°
- Diff ë¹„êµ ë·°

**MergeRequest.tsx**
- ë¨¸ì§€ ìš”ì²­ ìƒì„¸
- ë³€ê²½ ì‚¬í•­ ë¦¬ë·°
- ì¶©ëŒ í•´ê²° UI
- ìŠ¹ì¸/ê±°ì ˆ ì•¡ì…˜

### 6.2 ì‹¬í”Œ ì„¤ê³„ ì›ì¹™ (ê³¼ë„í•œ ê¸°ëŠ¥ ì§€ì–‘)

**CommitInput.tsx - ìµœì†Œ ê¸°ëŠ¥ ì»¤ë°‹ ì…ë ¥ì°½**
```typescript
// ê¸°ë³¸ ì…ë ¥ í•„ë“œë§Œ ì œê³µ
interface CommitInputProps {
    branchId: string;
    onSubmit: (commit: CommitData) => void;
}

// í¬í•¨ ê¸°ëŠ¥:
// - ì œëª© ì…ë ¥ (í…ìŠ¤íŠ¸)
// - ì„¤ëª… ì…ë ¥ (textarea)
// - ì €ì¥/ì·¨ì†Œ ë²„íŠ¼
//
// ì œì™¸ ê¸°ëŠ¥:
// - ë¦¬ì¹˜ í…ìŠ¤íŠ¸ ì—ë””í„° (X)
// - íŒŒì¼ ì²¨ë¶€ (X)
// - ë§ˆí¬ë‹¤ìš´ í”„ë¦¬ë·° (X)
// - ì´ë¯¸ì§€ ì—…ë¡œë“œ (X)
```

**WhiteboardCanvas.tsx - ë‹¨ìˆœ 2D ìº”ë²„ìŠ¤**
```typescript
// GitHub Network Graph ìŠ¤íƒ€ì¼ì˜ ì‹¬í”Œí•œ ì‹œê°í™”
// í¬í•¨ ê¸°ëŠ¥:
// - ë¸Œëœì¹˜ ë…¸ë“œ í‘œì‹œ (ì›í˜• ë˜ëŠ” ë°•ìŠ¤)
// - ì—°ê²°ì„  í‘œì‹œ (SVG line)
// - ì¤Œ/íŒ¬ (ë§ˆìš°ìŠ¤ íœ , ë“œë˜ê·¸)
// - ë…¸ë“œ í´ë¦­ â†’ ìƒì„¸ ë³´ê¸°
//
// ì œì™¸ ê¸°ëŠ¥:
// - 3D íš¨ê³¼ (X)
// - ë³µì¡í•œ ì• ë‹ˆë©”ì´ì…˜ (X)
// - ë“œë¡œì‰ ë„êµ¬ (X)
// - ìŠ¤í‹°ì»¤/ë©”ëª¨ (X)
```

## 7. 2D Whiteboard UI Design (ì™„ì „ 2D ì„¤ê³„)

### 7.1 í™”ì´íŠ¸ë³´ë“œ ë ˆì´ì•„ì›ƒ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [WorkHub Logo]  [ë¸Œëœì¹˜: Main]  [ìƒˆ ë¸Œëœì¹˜] [ì»¤ë°‹í•˜ê¸°] â”‚ â† í—¤ë”
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”                                                 â”‚
â”‚ â”‚Side â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—           â”‚
â”‚ â”‚bar  â”‚  â•‘     Company (Main)              â•‘           â”‚
â”‚ â”‚     â”‚  â•šâ•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•           â”‚
â”‚ â”‚ë¸Œëœì¹˜â”‚           â•‘                                    â”‚
â”‚ â”‚ë¦¬ìŠ¤íŠ¸â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚ â”‚     â”‚    â–¼              â–¼                             â”‚
â”‚ â”‚[Mainâ”‚  [Dev]          [Marketing]                    â”‚
â”‚ â”‚ Dev â”‚    â”‚              â”‚                             â”‚
â”‚ â”‚ Mkt]â”‚    â”œâ”€[Feature-A]  â””â”€[Campaign-1]                â”‚
â”‚ â”‚     â”‚    â”‚                                            â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜    â””â”€[Feature-B]                                â”‚
â”‚                                                          â”‚
â”‚            [+ / -] ì¤Œ ì»¨íŠ¸ë¡¤                             â”‚ â† í•˜ë‹¨ ìš°ì¸¡
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 ë¸Œëœì¹˜ ë…¸ë“œ ë””ìì¸ (ì‹¬í”Œ)
```css
/* BranchNode.module.css */
.branchNode {
    width: 180px;
    padding: 12px 16px;
    background: var(--color-bg-card);
    border: 2px solid var(--workhub-branch-color);
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.branchNode:hover {
    border-color: var(--workhub-branch-active);
    transform: translateY(-2px);
}

.branchTitle {
    font-weight: 600;
    margin-bottom: 4px;
}

.branchMeta {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
}

/* ìƒíƒœë³„ ìƒ‰ìƒ */
.branchNode.active { border-color: #4CAF50; }
.branchNode.pending { border-color: #FFC107; }
.branchNode.merged { border-color: #9E9E9E; opacity: 0.7; }
```

### 7.3 ì—°ê²°ì„  ë””ìì¸ (SVG)
```typescript
// BranchLine.tsx
interface BranchLineProps {
    from: { x: number; y: number };
    to: { x: number; y: number };
    type: 'parent' | 'merge';
}

// SVG pathë¡œ ê³¡ì„  ì—°ê²°ì„  ê·¸ë¦¬ê¸°
// parent: ì‹¤ì„ 
// merge: ì ì„  + í™”ì‚´í‘œ
```

## 8. Integration Points (ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • ìµœì†Œí™”)

### 8.1 InfoModal.tsx ìˆ˜ì • (5ì¤„ ì¶”ê°€)
```typescript
// src/components/ui/Overlay/InfoModal.tsx
// ê¸°ì¡´ ì½”ë“œì— ë²„íŠ¼ë§Œ ì¶”ê°€

import { useNavigate } from 'react-router-dom';

const InfoModal = () => {
    const navigate = useNavigate();
    // ... ê¸°ì¡´ ì½”ë“œ ...

    return (
        // ... ê¸°ì¡´ JSX ...
        <button
            className={styles.viewWorkHubButton}
            onClick={() => navigate(`/project/${selectedProject.id}/workhub`)}
        >
            ğŸ“‹ í”„ë¡œì íŠ¸ ë‚´ìš©ë³´ê¸°
        </button>
        // ... ê¸°ì¡´ JSX ...
    );
};
```

### 8.2 App.tsx ë¼ìš°íŠ¸ ì¶”ê°€ (3ì¤„ ì¶”ê°€)
```typescript
// src/App.tsx
import { WorkHubMain } from './modules/workhub';

// ê¸°ì¡´ ë¼ìš°íŠ¸
<Routes>
    <Route path="/" element={<DashboardPage />} />
    <Route path="/exhibition/:id" element={<ExhibitionPage />} />

    {/* WorkHub ë¼ìš°íŠ¸ ì¶”ê°€ */}
    <Route path="/workhub" element={<WorkHubMain />} />
    <Route path="/project/:projectId/workhub" element={<WorkHubMain />} />
</Routes>
```

### 8.3 ë°ì´í„° íë¦„ (ì½ê¸° ì „ìš© ì—°ê²°)
```typescript
// modules/workhub/pages/WorkHubMain.tsx
import { ProjectAdapter } from '../adapter/projectAdapter';

const WorkHubMain = () => {
    const { projectId } = useParams();
    const [linkedProject, setLinkedProject] = useState<WorkHubProject | null>(null);

    useEffect(() => {
        // ì™¸ë¶€ í”„ë¡œì íŠ¸ ë°ì´í„°ë¥¼ ì½ê¸° ì „ìš©ìœ¼ë¡œ ê°€ì ¸ì˜´
        if (projectId) {
            ProjectAdapter.fetchPublicProjects().then(projects => {
                const project = projects.find(p => p.id === projectId);
                setLinkedProject(project || null);
            });
        }
    }, [projectId]);

    // WorkHub ìì²´ ë°ì´í„°ëŠ” ë…ë¦½ì ìœ¼ë¡œ ê´€ë¦¬
    const { branches } = useBranchStore();

    return (
        <div className={styles.workHubMain}>
            {linkedProject && (
                <div className={styles.projectInfo}>
                    ì—°ê²°ëœ í”„ë¡œì íŠ¸: {linkedProject.name}
                </div>
            )}
            <WhiteboardCanvas branches={branches} />
        </div>
    );
};
```

## 9. Styling Strategy (ê¸°ì¡´ ë””ìì¸ ì‹œìŠ¤í…œ ì¬ì‚¬ìš©)

### 9.1 CSS Variables í™•ì¥
```css
/* modules/workhub/styles/workhub.module.css */
:root {
    /* ê¸°ì¡´ CSS Variables ì¬ì‚¬ìš© */
    /* ë°°ê²½ìƒ‰: var(--color-bg-main), var(--color-bg-card), var(--color-bg-modal) */
    /* í…ìŠ¤íŠ¸: var(--color-text-primary), var(--color-text-secondary) */
    /* ê°„ê²©: var(--spacing-xs) ~ var(--spacing-xl) */
    /* í°íŠ¸: var(--font-size-sm) ~ var(--font-size-2xl) */
    /* ì• ë‹ˆë©”ì´ì…˜: var(--transition-fast) */

    /* WorkHub ì „ìš© ìƒ‰ìƒë§Œ ì¶”ê°€ */
    --workhub-branch-main: #4CAF50;
    --workhub-branch-feature: #2196F3;
    --workhub-branch-hotfix: #FF5722;
    --workhub-commit-pending: #FFC107;
    --workhub-commit-approved: #8BC34A;
    --workhub-merge-conflict: #F44336;
}
```

### 9.2 ê¸°ì¡´ íŒ¨í„´ ì¬ì‚¬ìš©
- **ì¹´ë“œ ìŠ¤íƒ€ì¼**: ProjectCardì™€ ë™ì¼í•œ ìŠ¤íƒ€ì¼ ì ìš©
- **ëª¨ë‹¬ ìŠ¤íƒ€ì¼**: InfoModalê³¼ ë™ì¼í•œ ì˜¤ë²„ë ˆì´/ëª¨ë‹¬ íŒ¨í„´
- **ë²„íŠ¼ ìŠ¤íƒ€ì¼**: ê¸°ì¡´ ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì¬ì‚¬ìš©
- **í°íŠ¸/ê°„ê²©**: ê¸°ì¡´ ë””ìì¸ í† í° 100% ì¬ì‚¬ìš©

## 10. Implementation Priority (MVP ì¤‘ì‹¬ - ì‹¬í”Œí•˜ê²Œ)

### Phase 1: ê¸°ì´ˆ ì¸í”„ë¼ (í•„ìˆ˜)
**ëª©í‘œ**: WorkHub ë…ë¦½ ëª¨ë“ˆ ìƒì„± ë° ë¼ìš°íŒ… ì—°ê²°

1. í´ë” êµ¬ì¡° ìƒì„± (`modules/workhub/`)
2. ë°ì´í„° íƒ€ì… ì •ì˜
   - `types/branch.types.ts` - Branch, BranchNode ì¸í„°í˜ì´ìŠ¤
   - `types/commit.types.ts` - Commit, CommitChange ì¸í„°í˜ì´ìŠ¤
   - `types/merge.types.ts` - MergeRequest ì¸í„°í˜ì´ìŠ¤
3. Adapter íŒ¨í„´ êµ¬í˜„
   - `adapter/projectAdapter.ts` - ì™¸ë¶€ ë°ì´í„° ì½ê¸° ì „ìš© ì—°ê²°
4. ê¸°ì¡´ ì½”ë“œ ìµœì†Œ ìˆ˜ì •
   - `App.tsx` - ë¼ìš°íŠ¸ 2ì¤„ ì¶”ê°€
   - `InfoModal.tsx` - ë²„íŠ¼ 5ì¤„ ì¶”ê°€

**ì‚°ì¶œë¬¼**: ë¹ˆ WorkHub í˜ì´ì§€ ë¼ìš°íŒ… ì™„ë£Œ

### Phase 2: 2D í™”ì´íŠ¸ë³´ë“œ ê¸°ë³¸ UI (MVP)
**ëª©í‘œ**: ë¸Œëœì¹˜ ì‹œê°í™” ê¸°ë³¸ êµ¬í˜„

1. Zustand ìŠ¤í† ì–´
   - `store/branchStore.ts` - ë¸Œëœì¹˜ ìƒíƒœ ê´€ë¦¬ (CRUD)
2. í™”ì´íŠ¸ë³´ë“œ ì»´í¬ë„ŒíŠ¸ (ì‹¬í”Œ)
   - `components/Whiteboard/WhiteboardCanvas.tsx` - ìº”ë²„ìŠ¤ ì»¨í…Œì´ë„ˆ + ì¤Œ/íŒ¬
   - `components/Whiteboard/BranchNode.tsx` - ë¸Œëœì¹˜ ë…¸ë“œ (ê³ ì • ìœ„ì¹˜)
   - `components/Whiteboard/BranchLine.tsx` - SVG ì—°ê²°ì„  (ë¶€ëª¨-ìì‹)
3. ë©”ì¸ í˜ì´ì§€
   - `pages/WorkHubMain.tsx` - í™”ì´íŠ¸ë³´ë“œ í‘œì‹œ

**ì‚°ì¶œë¬¼**: ë¸Œëœì¹˜ íŠ¸ë¦¬ ì‹œê°í™” ì™„ë£Œ (ì½ê¸° ì „ìš©)

### Phase 3: ì»¤ë°‹ ì…ë ¥ ì‹œìŠ¤í…œ (ì‹¬í”Œ)
**ëª©í‘œ**: ìµœì†Œ ê¸°ëŠ¥ ì»¤ë°‹ ì‘ì„± ë° í‘œì‹œ

1. Zustand ìŠ¤í† ì–´
   - `store/commitStore.ts` - ì»¤ë°‹ ìƒíƒœ ê´€ë¦¬
2. ì»¤ë°‹ ì»´í¬ë„ŒíŠ¸ (ìµœì†Œ ê¸°ëŠ¥)
   - `components/Commit/CommitInput.tsx` - ì œëª©/ì„¤ëª… ì…ë ¥ + ì €ì¥ ë²„íŠ¼
   - `components/Commit/CommitCard.tsx` - ì»¤ë°‹ í‘œì‹œ ì¹´ë“œ
   - `components/Commit/CommitList.tsx` - ì»¤ë°‹ ë¦¬ìŠ¤íŠ¸
3. ë¸Œëœì¹˜ ìƒì„¸ í˜ì´ì§€
   - `pages/BranchView.tsx` - ì„ íƒëœ ë¸Œëœì¹˜ì˜ ì»¤ë°‹ ë¦¬ìŠ¤íŠ¸ í‘œì‹œ

**ì‚°ì¶œë¬¼**: ì»¤ë°‹ ì‘ì„± ë° ê³µì‹œ ë‚´ì—­ í‘œì‹œ ì™„ë£Œ

### Phase 4: ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš° (ê¸°ë³¸)
**ëª©í‘œ**: íŒ€ì¥ ìŠ¹ì¸ ë° ë¨¸ì§€ ê¸°ëŠ¥

1. Zustand ìŠ¤í† ì–´
   - `store/mergeStore.ts` - ë¨¸ì§€ ìš”ì²­ ìƒíƒœ
2. ë¨¸ì§€ ì»´í¬ë„ŒíŠ¸ (ê¸°ë³¸)
   - `components/Merge/MergeButton.tsx` - ë¨¸ì§€ ìš”ì²­ ë²„íŠ¼
   - `components/Merge/ApprovalBadge.tsx` - ìŠ¹ì¸ ìƒíƒœ í‘œì‹œ
3. ë¨¸ì§€ ë¡œì§
   - `utils/mergeUtils.ts` - ë¸Œëœì¹˜ ë¨¸ì§€ ì•Œê³ ë¦¬ì¦˜ (ê¸°ë³¸)

**ì‚°ì¶œë¬¼**: ì»¤ë°‹ ìŠ¹ì¸ ë° ìƒìœ„ ë¸Œëœì¹˜ ë¨¸ì§€ ì™„ë£Œ

### Phase 5: í´ë¦¬ì‹± (ì„ íƒì )
**ë‚˜ì¤‘ì— ì¶”ê°€í•  ê¸°ëŠ¥ (í˜„ì¬ëŠ” ì œì™¸)**
- ì‹¤ì‹œê°„ í˜‘ì—… (WebSocket)
- ì•Œë¦¼ ì‹œìŠ¤í…œ
- ë³µì¡í•œ ì• ë‹ˆë©”ì´ì…˜
- ì¶©ëŒ í•´ê²° UI
- íŒŒì¼ ì²¨ë¶€ ê¸°ëŠ¥
- ë¦¬ì¹˜ í…ìŠ¤íŠ¸ ì—ë””í„°

## 11. Key Design Decisions Summary

### 11.1 ë…ë¦½ í”„ë¡œì íŠ¸ ëŒ€ë¹„ ì „ëµ â­â­â­
**í•µì‹¬**: WorkHubë¥¼ í–¥í›„ ì™„ì „íˆ ë…ë¦½ëœ ë ˆí¬ì§€í† ë¦¬ë¡œ ë¶„ë¦¬ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ê³„

âœ… **ì™„ì „ ê²©ë¦¬ëœ ëª¨ë“ˆ**: `modules/workhub/` í´ë”ì— ëª¨ë“  ì½”ë“œ ê²©ë¦¬
âœ… **Adapter Pattern**: ì™¸ë¶€ ì˜ì¡´ì„±ì„ `adapter/` í•œ ê³³ì—ë§Œ ì§‘ì¤‘
âœ… **ê³µê°œ ë°ì´í„°ë§Œ ì ‘ê·¼**: `visibility: 'public'` í”„ë¡œì íŠ¸ë§Œ ì½ê¸° ì „ìš©ìœ¼ë¡œ ê°€ì ¸ì˜´
âœ… **ë…ë¦½ì  ìƒíƒœ ê´€ë¦¬**: WorkHub ì „ìš© Zustand ìŠ¤í† ì–´ (ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • ì—†ìŒ)
âœ… **ë…ë¦½ì  íƒ€ì… ì‹œìŠ¤í…œ**: WorkHub ë‚´ë¶€ íƒ€ì…ê³¼ ì™¸ë¶€ íƒ€ì… ì™„ì „ ë¶„ë¦¬
âœ… **ìµœì†Œ í†µí•© ì§€ì **: ê¸°ì¡´ ì½”ë“œ 2ê°œ íŒŒì¼ë§Œ ìˆ˜ì • (App.tsx 3ì¤„, InfoModal.tsx 5ì¤„)

### 11.2 ì‹¬í”Œ ì„¤ê³„ ì›ì¹™ â­â­â­
**í•µì‹¬**: ì»¤ë°‹ ì…ë ¥ì°½ ìˆ˜ì¤€ë¶€í„° ì‹œì‘, ë³µì¡í•œ ì—ë””í„° ê¸°ëŠ¥ ì œì™¸

âœ… **í…ìŠ¤íŠ¸ ì¤‘ì‹¬ UI**: ì œëª©/ì„¤ëª… ì…ë ¥ë§Œ (ë¦¬ì¹˜ í…ìŠ¤íŠ¸ X, íŒŒì¼ ì²¨ë¶€ X)
âœ… **2D í™”ì´íŠ¸ë³´ë“œ**: ìˆœìˆ˜ HTML/CSS/SVG (3D íš¨ê³¼ X, ë³µì¡í•œ ì• ë‹ˆë©”ì´ì…˜ X)
âœ… **ê¸°ë³¸ ê¸°ëŠ¥ ìš°ì„ **: ë¸Œëœì¹˜ â†’ ì»¤ë°‹ â†’ ìŠ¹ì¸ â†’ ë¨¸ì§€ (ì‹¤ì‹œê°„ í˜‘ì—…ì€ ë‚˜ì¤‘ì—)
âœ… **GitHub ìŠ¤íƒ€ì¼**: GitHub Network Graph ì°¸ê³ í•œ ì‹¬í”Œí•œ ë¸Œëœì¹˜ ì‹œê°í™”

### 11.3 í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°
- ë¸Œëœì¹˜ íƒ€ì… í™•ì¥ ê°€ëŠ¥ (`type: 'company' | 'department' | ...`)
- ì»¤ë°‹ ë³€ê²½ íƒ€ì… í™•ì¥ ê°€ëŠ¥ (`CommitChange.type`)
- í–¥í›„ API ì—°ë™ ìš©ì´ (Adapter íŒ¨í„´)
- ë…ë¦½ ë°°í¬ ê°€ëŠ¥ (Vite ë²ˆë“¤ë§)

### 11.4 ê¸°ìˆ  ìŠ¤íƒ
- **ìƒíƒœ ê´€ë¦¬**: Zustand (ê¸°ì¡´ íŒ¨í„´ ìœ ì§€)
- **ë¼ìš°íŒ…**: React Router (ê¸°ì¡´ íŒ¨í„´ ìœ ì§€)
- **ìŠ¤íƒ€ì¼**: CSS Modules + CSS Variables (ê¸°ì¡´ ë””ìì¸ í† í° ì¬ì‚¬ìš©)
- **íƒ€ì…**: TypeScript (ì™„ì „í•œ íƒ€ì… ì•ˆì •ì„±)
- **ì‹œê°í™”**: SVG (ë¸Œëœì¹˜ ì—°ê²°ì„ )

## 12. Critical Files Overview

### ê¸°ì¡´ íŒŒì¼ ìˆ˜ì • (2ê°œë§Œ)
1. **[src/App.tsx](src/App.tsx)** - WorkHub ë¼ìš°íŠ¸ ì¶”ê°€ (3ì¤„)
2. **[src/components/ui/Overlay/InfoModal.tsx](src/components/ui/Overlay/InfoModal.tsx)** - ë²„íŠ¼ ì¶”ê°€ (5ì¤„)

### ìƒˆë¡œ ìƒì„±í•  í•µì‹¬ íŒŒì¼ (Phaseë³„)

**Phase 1 - ì¸í”„ë¼ (6ê°œ íŒŒì¼)**
- `src/modules/workhub/types/branch.types.ts`
- `src/modules/workhub/types/commit.types.ts`
- `src/modules/workhub/types/merge.types.ts`
- `src/modules/workhub/adapter/projectAdapter.ts`
- `src/modules/workhub/adapter/types.ts`
- `src/modules/workhub/index.ts`

**Phase 2 - í™”ì´íŠ¸ë³´ë“œ (5ê°œ íŒŒì¼)**
- `src/modules/workhub/store/branchStore.ts`
- `src/modules/workhub/components/Whiteboard/WhiteboardCanvas.tsx`
- `src/modules/workhub/components/Whiteboard/BranchNode.tsx`
- `src/modules/workhub/components/Whiteboard/BranchLine.tsx`
- `src/modules/workhub/pages/WorkHubMain.tsx`

**Phase 3 - ì»¤ë°‹ ì‹œìŠ¤í…œ (5ê°œ íŒŒì¼)**
- `src/modules/workhub/store/commitStore.ts`
- `src/modules/workhub/components/Commit/CommitInput.tsx`
- `src/modules/workhub/components/Commit/CommitCard.tsx`
- `src/modules/workhub/components/Commit/CommitList.tsx`
- `src/modules/workhub/pages/BranchView.tsx`

**Phase 4 - ë¨¸ì§€ ì›Œí¬í”Œë¡œìš° (4ê°œ íŒŒì¼)**
- `src/modules/workhub/store/mergeStore.ts`
- `src/modules/workhub/components/Merge/MergeButton.tsx`
- `src/modules/workhub/components/Merge/ApprovalBadge.tsx`
- `src/modules/workhub/utils/mergeUtils.ts`

**ìŠ¤íƒ€ì¼ íŒŒì¼ (3ê°œ)**
- `src/modules/workhub/styles/workhub.module.css`
- `src/modules/workhub/styles/whiteboard.module.css`
- `src/modules/workhub/styles/commit.module.css`

**ì´ê³„**: ê¸°ì¡´ íŒŒì¼ 2ê°œ ìˆ˜ì • + ìƒˆ íŒŒì¼ 23ê°œ ìƒì„±

## 13. Migration Path to Independent Project

### í–¥í›„ ë…ë¦½ í”„ë¡œì íŠ¸ë¡œ ë¶„ë¦¬ ì‹œë‚˜ë¦¬ì˜¤

**Step 1**: `modules/workhub/` í´ë”ë¥¼ ìƒˆ ë ˆí¬ì§€í† ë¦¬ë¡œ ì´ë™
**Step 2**: `adapter/projectAdapter.ts`ë¥¼ API í´ë¼ì´ì–¸íŠ¸ë¡œ êµì²´
```typescript
// ë³€ê²½ ì „: import from '../../../data/mockData'
// ë³€ê²½ í›„: fetch('https://api.example.com/projects')
```
**Step 3**: `package.json` ì¶”ê°€ ë° ë…ë¦½ ë¹Œë“œ ì„¤ì •
**Step 4**: í˜„ì¬ í”„ë¡œì íŠ¸ëŠ” iframe ë˜ëŠ” APIë¡œ WorkHub í†µí•©

**ê²°í•©ë„**: Adapter 1ê°œ íŒŒì¼ë§Œ ë³€ê²½í•˜ë©´ ì™„ì „ ë…ë¦½ ê°€ëŠ¥ âœ…
